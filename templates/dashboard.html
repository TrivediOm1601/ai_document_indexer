{% extends "base.html" %}
{% block title %}Dashboard - DocIndexer{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h3>Dashboard - Welcome {{ username }} (Role: {{ role }})</h3>
    <a href="{{ url_for('upload') }}" class="btn btn-success">Upload Document</a>
</div>
{% if documents %}
<table class="table table-striped table-hover">
    <thead>
    <tr>
        <th>Title</th>
        <th>Category</th>
        <th>Author</th>
        <th>Upload Date</th>
        <th>Action</th>
    </tr>
    </thead>
    <tbody>
    {% for doc in documents %}
    <tr>
        <td>{{ doc['title'] or doc['filename'] }}</td>
        <td>{{ doc['category'] }}</td>
        <td>{{ doc['author'] or '-' }}</td>
        <td>{{ doc['upload_date'] }}</td>
        <td><a href="{{ url_for('document', document_id=doc['id']) }}" class="btn btn-primary btn-sm">View</a></td>
    </tr>
    {% endfor %}
    </tbody>
</table>
{% else %}
<p>No documents found for your role.</p>
{% endif %}
{% endblock %}
